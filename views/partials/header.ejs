<nav class="navbar navbar-expand-lg fixed-top">
  <div class="container-fluid px-0">
    <a class="navbar-brand" href="/feed">
      <div class="netflix-text">NETFLIX</div>
    </a>

    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        <% if (typeof showCategories !== 'undefined' && showCategories) { %>
        <li class="nav-item">
          <a class="nav-link active" href="#" data-category="home">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" data-category="tvshows">TV Shows</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" data-category="movies">Movies</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" data-category="mylist">My List</a>
        </li>
        <% } else { %>
        <li class="nav-item">
          <a class="nav-link" href="/feed">Back to Browse</a>
        </li>
        <% } %>
      </ul>

      <div class="secondary-navigation">
        <% if (typeof showSearch !== 'undefined' && showSearch) { %>
        <div class="search-container">
          <div class="search-icon">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14 11C14 14.3137 11.3137 17 8 17C4.68629 17 2 14.3137 2 11C2 7.68629 4.68629 5 8 5C11.3137 5 14 7.68629 14 11ZM14.3623 15.8506C12.9006 17.7649 10.5945 19 8 19C3.58172 19 0 15.4183 0 11C0 6.58172 3.58172 3 8 3C12.4183 3 16 6.58172 16 11C16 12.1076 15.7749 13.1626 15.368 14.1218L24.0022 19.1352L22.9979 20.8648L14.3623 15.8506Z"
                fill="white"
              />
            </svg>
          </div>
          <div class="search-input-container">
            <input
              type="text"
              class="search-input"
              id="searchInput"
              placeholder="Titles, people, genres"
            />
          </div>
        </div>
        <% } %> <% if (typeof user !== 'undefined' && user && user.role ===
        'admin') { %>
        <a href="/add-content" class="admin-add-content-btn">
          <i class="bi bi-plus-circle"></i> Add Content
        </a>
        <% } %>

        <div class="profile-menu">
          <div class="profile-avatar" id="menuProfileAvatar">
            <img id="menuProfileImage" alt="Profile" class="profile-image" />
          </div>

          <div class="profile-welcome">
            Welcome, <span id="profileName"></span>
          </div>
          <span class="dropdown-icon">
            <i class="bi bi-chevron-down"></i>
          </span>
          <div class="dropdown-menu" id="profileDropdown">
            <div class="dropdown-item" data-action="settings">
              <i class="bi bi-gear-fill"></i> Settings
            </div>
            <div class="dropdown-item" data-action="switch-profile">
              <i class="bi bi-people-fill"></i> Switch Profile
            </div>
            <div class="dropdown-item" data-action="logout">
              <i class="bi bi-box-arrow-right"></i> Logout
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
